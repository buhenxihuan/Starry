{"uid":"37be18b771ef32ac","name":"测试ArceOS 宏内核 基本功能","fullName":"testcase.test_arceos#test_arceos_monokernel","historyId":"1abc4cf2a83690af69b69edbd1bd13fb","time":{"start":1709885076746,"stop":1709885088300,"duration":11554},"description":"码仓提交信息===>{\n\"测试架构\": \"riscv64\",\n\"文件系统\": \"fat32\",\n\"提交者\": \"buhenxihuan\",\n\"提交ID\": \"6eeda4ea0bdee8f13b369ad1c111ce7a5d7be0b8\",\n\"提交时间\": \"Fri Mar  8 15:48:39 UTC 2024\",\n\"仓库名\": \"buhenxihuan/Starry\",\n\"分支名\": \"x86_64\",\n\"工作目录\": \"/home/runner/work/Starry/Starry\"\n}\n用例结果信息===>测试失败，命令执行失败，错误信息：\n30+0 records in\n30+0 records out\n125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\nmkfs.fat 4.2 (2021-01-31)\nCopying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\nsdcard\n    \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\n\u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\n   Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\n   Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\n   Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\n   Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\n   Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\n   Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\n   Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\n   Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\n   Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\n   Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\n   Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\n   Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\n   Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\n   Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\n   Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\n    Finished release [optimized] target(s) in 10.41s\n\u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\n    \u001B[96;1mRunning\u001B[0m on qemu...\n\u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\nqemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\nmake: *** [Makefile:178: justrun] Error 1\n","descriptionHtml":"<p>码仓提交信息===&gt;{<br />\n&quot;测试架构&quot;: &quot;riscv64&quot;,<br />\n&quot;文件系统&quot;: &quot;fat32&quot;,<br />\n&quot;提交者&quot;: &quot;buhenxihuan&quot;,<br />\n&quot;提交ID&quot;: &quot;6eeda4ea0bdee8f13b369ad1c111ce7a5d7be0b8&quot;,<br />\n&quot;提交时间&quot;: &quot;Fri Mar  8 15:48:39 UTC 2024&quot;,<br />\n&quot;仓库名&quot;: &quot;buhenxihuan/Starry&quot;,<br />\n&quot;分支名&quot;: &quot;x86_64&quot;,<br />\n&quot;工作目录&quot;: &quot;/home/runner/work/Starry/Starry&quot;<br />\n}<br />\n用例结果信息===&gt;测试失败，命令执行失败，错误信息：<br />\n30+0 records in<br />\n30+0 records out<br />\n125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s<br />\nmkfs.fat 4.2 (2021-01-31)<br />\nCopying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk<br />\nsdcard<br />\n\u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust<br />\n\u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features &quot;syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch&quot;\u001B[0m<br />\nCompiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)<br />\nCompiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)<br />\nCompiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)<br />\nCompiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)<br />\nCompiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)<br />\nCompiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)<br />\nCompiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)<br />\nCompiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)<br />\nCompiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)<br />\nCompiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)<br />\nCompiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)<br />\nCompiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)<br />\nCompiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)<br />\nCompiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)<br />\nCompiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)<br />\nFinished release [optimized] target(s) in 10.41s<br />\n\u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m<br />\n\u001B[96;1mRunning\u001B[0m on qemu...<br />\n\u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m<br />\nqemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'<br />\nmake: *** [Makefile:178: justrun] Error 1</p>\n","status":"failed","statusMessage":"AssertionError: 测试失败，命令执行失败，错误信息：\n  30+0 records in\n  30+0 records out\n  125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\n  mkfs.fat 4.2 (2021-01-31)\n  Copying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\n  sdcard\n      \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\n  \u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\n     Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\n     Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\n     Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\n     Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\n     Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\n     Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\n     Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\n     Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\n     Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\n     Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\n     Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\n     Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\n     Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\n     Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\n     Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\n      Finished release [optimized] target(s) in 10.41s\n  \u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\n      \u001B[96;1mRunning\u001B[0m on qemu...\n  \u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\n  qemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\n  make: *** [Makefile:178: justrun] Error 1\nassert False","statusTrace":"cmdRun = <lib.cmd.cmd object at 0x7ff86f798280>, monoTcList = 'libc-static'\n\n    @allure.feature(\"特性（对应敏捷开发中的feature）\")\n    @allure.issue(url=\"\",name=\"用例对应issuer的链接，若没有可删除此行\")\n    @allure.link(url=\"\",name=\"用例对应需求的链接，若没有，可删除此行\")\n    @allure.story(\"故事（对应敏捷开发中的story)\")\n    @allure.severity('用例的级别，一般常用的级别为：blocker（阻塞缺陷），critical（严重缺陷），normal（一般缺陷），minor次要缺陷，trivial（轻微缺陷）')\n    @allure.title(\"测试ArceOS 宏内核 基本功能\")\n    @allure.description(\"测试用例简要描述: %s\" %json.dumps(commitConfig, indent=0, ensure_ascii=False))\n    @pytest.mark.parametrize(\"monoTcList\", monoTcList)\n    @pytest.mark.repeat(1)\n    def test_arceos_monokernel(cmdRun, monoTcList):\n        \"\"\"测试内核实时性指标\"\"\"\n>       kpi = step_01_mono(cmdRun, monoTcList)\n\ntestcase/test_arceos.py:134: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncmdRun = <lib.cmd.cmd object at 0x7ff86f798280>, cmdTc = 'libc-static'\n\n    @allure.step(\"测试步骤一：执行 宏内核 测试\")\n    def step_01_mono(cmdRun, cmdTc):\n        _cmd = 'export PATH=$PATH:/home/xh/qemu-7.0.0/build:/home/runner/.cargo/bin:%s/riscv64-linux-musl-cross/bin:%s/aarch64-linux-musl-cross/bin:%s/x86_64-linux-musl-cross/bin && \\\n                 cd %s && ./build_img.sh %s %s && make A=apps/monolithic_userboot ARCH=%s TC=%s APP_FEATURES=batch run' %(commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"测试架构\"), \\\n                                                                                          commitConfig.get(\"文件系统\"), \\\n                                                                                          commitConfig.get(\"测试架构\"), \\\n                                                                                          cmdTc)\n        logging.info(\"test_type=monokernel\")\n        logging.info(\"test_cmd=\" + _cmd)\n        retcode, res = cmdRun.run_cmd(_cmd)\n        logging.info(\"res=\" + res)\n        flag, msg = validator.validator().check(retcode, res)\n        allure.dynamic.description(\"码仓提交信息===>%s\\n\" %json.dumps(commitConfig, indent=0, ensure_ascii=False)\n                                 + \"用例结果信息===>%s\\n\" %msg)\n        logging.info(\"用例结果信息--->\" + msg)\n>       assert flag, msg\nE       AssertionError: 测试失败，命令执行失败，错误信息：\nE         30+0 records in\nE         30+0 records out\nE         125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\nE         mkfs.fat 4.2 (2021-01-31)\nE         Copying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\nE         sdcard\nE             \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\nE         \u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\nE            Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\nE            Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\nE            Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\nE            Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\nE            Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\nE            Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\nE            Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\nE            Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\nE            Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\nE            Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\nE            Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\nE            Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\nE            Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\nE            Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\nE            Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\nE             Finished release [optimized] target(s) in 10.41s\nE         \u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\nE             \u001B[96;1mRunning\u001B[0m on qemu...\nE         \u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\nE         qemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\nE         make: *** [Makefile:178: justrun] Error 1\nE       assert False\n\ntestcase/test_arceos.py:91: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"cmdRun","time":{"start":1709884278268,"stop":1709884278269,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"码仓提交信息===>{\n\"测试架构\": \"riscv64\",\n\"文件系统\": \"fat32\",\n\"提交者\": \"buhenxihuan\",\n\"提交ID\": \"6eeda4ea0bdee8f13b369ad1c111ce7a5d7be0b8\",\n\"提交时间\": \"Fri Mar  8 15:48:39 UTC 2024\",\n\"仓库名\": \"buhenxihuan/Starry\",\n\"分支名\": \"x86_64\",\n\"工作目录\": \"/home/runner/work/Starry/Starry\"\n}\n用例结果信息===>测试失败，命令执行失败，错误信息：\n30+0 records in\n30+0 records out\n125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\nmkfs.fat 4.2 (2021-01-31)\nCopying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\nsdcard\n    \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\n\u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\n   Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\n   Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\n   Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\n   Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\n   Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\n   Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\n   Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\n   Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\n   Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\n   Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\n   Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\n   Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\n   Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\n   Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\n   Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\n    Finished release [optimized] target(s) in 10.41s\n\u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\n    \u001B[96;1mRunning\u001B[0m on qemu...\n\u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\nqemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\nmake: *** [Makefile:178: justrun] Error 1\n","status":"failed","statusMessage":"AssertionError: 测试失败，命令执行失败，错误信息：\n  30+0 records in\n  30+0 records out\n  125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\n  mkfs.fat 4.2 (2021-01-31)\n  Copying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\n  sdcard\n      \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\n  \u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\n     Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\n     Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\n     Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\n     Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\n     Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\n     Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\n     Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\n     Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\n     Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\n     Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\n     Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\n     Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\n     Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\n     Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\n     Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\n      Finished release [optimized] target(s) in 10.41s\n  \u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\n      \u001B[96;1mRunning\u001B[0m on qemu...\n  \u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\n  qemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\n  make: *** [Makefile:178: justrun] Error 1\nassert False","statusTrace":"cmdRun = <lib.cmd.cmd object at 0x7ff86f798280>, monoTcList = 'libc-static'\n\n    @allure.feature(\"特性（对应敏捷开发中的feature）\")\n    @allure.issue(url=\"\",name=\"用例对应issuer的链接，若没有可删除此行\")\n    @allure.link(url=\"\",name=\"用例对应需求的链接，若没有，可删除此行\")\n    @allure.story(\"故事（对应敏捷开发中的story)\")\n    @allure.severity('用例的级别，一般常用的级别为：blocker（阻塞缺陷），critical（严重缺陷），normal（一般缺陷），minor次要缺陷，trivial（轻微缺陷）')\n    @allure.title(\"测试ArceOS 宏内核 基本功能\")\n    @allure.description(\"测试用例简要描述: %s\" %json.dumps(commitConfig, indent=0, ensure_ascii=False))\n    @pytest.mark.parametrize(\"monoTcList\", monoTcList)\n    @pytest.mark.repeat(1)\n    def test_arceos_monokernel(cmdRun, monoTcList):\n        \"\"\"测试内核实时性指标\"\"\"\n>       kpi = step_01_mono(cmdRun, monoTcList)\n\ntestcase/test_arceos.py:134: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncmdRun = <lib.cmd.cmd object at 0x7ff86f798280>, cmdTc = 'libc-static'\n\n    @allure.step(\"测试步骤一：执行 宏内核 测试\")\n    def step_01_mono(cmdRun, cmdTc):\n        _cmd = 'export PATH=$PATH:/home/xh/qemu-7.0.0/build:/home/runner/.cargo/bin:%s/riscv64-linux-musl-cross/bin:%s/aarch64-linux-musl-cross/bin:%s/x86_64-linux-musl-cross/bin && \\\n                 cd %s && ./build_img.sh %s %s && make A=apps/monolithic_userboot ARCH=%s TC=%s APP_FEATURES=batch run' %(commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"工作目录\"), \\\n                                                                                          commitConfig.get(\"测试架构\"), \\\n                                                                                          commitConfig.get(\"文件系统\"), \\\n                                                                                          commitConfig.get(\"测试架构\"), \\\n                                                                                          cmdTc)\n        logging.info(\"test_type=monokernel\")\n        logging.info(\"test_cmd=\" + _cmd)\n        retcode, res = cmdRun.run_cmd(_cmd)\n        logging.info(\"res=\" + res)\n        flag, msg = validator.validator().check(retcode, res)\n        allure.dynamic.description(\"码仓提交信息===>%s\\n\" %json.dumps(commitConfig, indent=0, ensure_ascii=False)\n                                 + \"用例结果信息===>%s\\n\" %msg)\n        logging.info(\"用例结果信息--->\" + msg)\n>       assert flag, msg\nE       AssertionError: 测试失败，命令执行失败，错误信息：\nE         30+0 records in\nE         30+0 records out\nE         125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\nE         mkfs.fat 4.2 (2021-01-31)\nE         Copying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\nE         sdcard\nE             \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\nE         \u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\nE            Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\nE            Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\nE            Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\nE            Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\nE            Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\nE            Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\nE            Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\nE            Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\nE            Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\nE            Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\nE            Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\nE            Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\nE            Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\nE            Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\nE            Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\nE             Finished release [optimized] target(s) in 10.41s\nE         \u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\nE             \u001B[96;1mRunning\u001B[0m on qemu...\nE         \u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\nE         qemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\nE         make: *** [Makefile:178: justrun] Error 1\nE       assert False\n\ntestcase/test_arceos.py:91: AssertionError","steps":[{"name":"测试步骤一：执行 宏内核 测试","time":{"start":1709885076746,"stop":1709885088300,"duration":11554},"status":"failed","statusMessage":"AssertionError: 测试失败，命令执行失败，错误信息：\n  30+0 records in\n  30+0 records out\n  125829120 bytes (126 MB, 120 MiB) copied, 0.12571 s, 1.0 GB/s\n  mkfs.fat 4.2 (2021-01-31)\n  Copying riscv64 fat32 testsuits-riscv64-linux-musl/* to disk\n  sdcard\n      \u001B[92;1mBuilding\u001B[0m App: monolithic_userboot, Arch: riscv64, Platform: riscv64-qemu-virt, App type: rust\n  \u001B[37mcargo build\u001B[0m \u001B[90m--target riscv64gc-unknown-none-elf --target-dir /home/runner/work/Starry/Starry/target --release  --manifest-path apps/monolithic_userboot/Cargo.toml --features \"syscall_entry/log-level-off syscall_entry/fp_simd syscall_entry/syscall_fs syscall_entry/syscall_mem syscall_entry/syscall_task syscall_entry/futex syscall_entry/signal syscall_entry/img syscall_entry/syscall_net syscall_entry/schedule syscall_entry/fatfs batch\"\u001B[0m\n     Compiling axdriver v0.1.0 (/home/runner/work/Starry/Starry/modules/axdriver)\n     Compiling axfs v0.1.0 (/home/runner/work/Starry/Starry/modules/axfs)\n     Compiling axnet v0.1.0 (/home/runner/work/Starry/Starry/modules/axnet)\n     Compiling axmem v0.1.0 (/home/runner/work/Starry/Starry/modules/axmem)\n     Compiling syscall_utils v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_utils)\n     Compiling axprocess v0.1.0 (/home/runner/work/Starry/Starry/modules/axprocess)\n     Compiling axruntime v0.1.0 (/home/runner/work/Starry/Starry/modules/axruntime)\n     Compiling syscall_fs v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_fs)\n     Compiling axfeat v0.1.0 (/home/runner/work/Starry/Starry/api/axfeat)\n     Compiling arceos_api v0.1.0 (/home/runner/work/Starry/Starry/api/arceos_api)\n     Compiling syscall_net v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_net)\n     Compiling syscall_task v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_task)\n     Compiling syscall_mem v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_mem)\n     Compiling syscall_entry v0.1.0 (/home/runner/work/Starry/Starry/ulib/axstarry/syscall_entry)\n     Compiling monolithic_userboot v0.1.0 (/home/runner/work/Starry/Starry/apps/monolithic_userboot)\n      Finished release [optimized] target(s) in 10.41s\n  \u001B[37mrust-objcopy --binary-architecture=riscv64\u001B[0m \u001B[90mapps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.elf --strip-all -O binary apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin\u001B[0m\n      \u001B[96;1mRunning\u001B[0m on qemu...\n  \u001B[37mqemu-system-riscv64\u001B[0m \u001B[90m-m 2G -smp 1 -machine virt -bios default -kernel apps/monolithic_userboot/monolithic_userboot_riscv64-qemu-virt.bin -device virtio-blk-device,drive=disk0 -drive id=disk0,if=none,format=raw,file=disk.img -device virtio-net-device,netdev=net0 -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555 -nographic\u001B[0m\n  qemu-system-riscv64: -netdev user,id=net0,hostfwd=tcp::5555-:5555,hostfwd=udp::5555-:5555: Could not set up host forwarding rule 'udp::5555-:5555'\n  make: *** [Makefile:178: justrun] Error 1\nassert False\n","statusTrace":"  File \"/usr/local/lib/python3.10/dist-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/Starry/Starry/pytest/testcase/test_arceos.py\", line 91, in step_01_mono\n    assert flag, msg\n","steps":[],"attachments":[],"parameters":[{"name":"cmdRun","value":"<lib.cmd.cmd object at 0x7ff86f798280>"},{"name":"cmdTc","value":"'libc-static'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"def3f6bfd4d10ef0","name":"log","source":"def3f6bfd4d10ef0.txt","type":"text/plain","size":6482}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"cmdRun::0","time":{"start":1709885088305,"stop":1709885088305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"severity","value":"用例的级别，一般常用的级别为：blocker（阻塞缺陷），critical（严重缺陷），normal（一般缺陷），minor次要缺陷，trivial（轻微缺陷）"},{"name":"feature","value":"特性（对应敏捷开发中的feature）"},{"name":"story","value":"故事（对应敏捷开发中的story)"},{"name":"tag","value":"repeat(1)"},{"name":"parentSuite","value":"testcase"},{"name":"suite","value":"test_arceos"},{"name":"host","value":"fv-az1019-343"},{"name":"thread","value":"6180-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_arceos"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"monoTcList","value":"'libc-static'"}],"links":[{"name":"用例对应需求的链接，若没有，可删除此行","type":"link"},{"name":"用例对应issuer的链接，若没有可删除此行","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["repeat(1)"]},"source":"37be18b771ef32ac.json","parameterValues":["'libc-static'"]}